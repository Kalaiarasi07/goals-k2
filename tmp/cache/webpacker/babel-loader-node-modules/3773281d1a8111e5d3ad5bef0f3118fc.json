{"ast":null,"code":"var _jsxFileName = \"/home/user/MP/rrapp/app/javascript/components/UserInfo.jsx\",\n    _this = this;\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport Axios from 'axios';\nimport { useHistory } from \"react-router-dom\";\nimport { logout } from './shared/functions'; // API call to show current user info only if logged in\n\nvar UsersInfo = function UsersInfo() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  var history = useHistory();\n  useEffect(function () {\n    Axios.post(\"/api/user-info\").then(function (resp) {\n      setUser(resp.data.user);\n    })[\"catch\"](function (error) {\n      console.log(error);\n      history.push('/login');\n      history.go(0);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }\n  }, \"User Info page\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }\n  }, \"Name: \", user.name, \" \"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, \"Email: \", user.email, \" \"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }, \"Phone: \", user.phone, \" \"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }\n  }, \"User type: \", user.user_type, \" \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    onClick: logout,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }, \"Log out\"));\n};\n\nexport default UsersInfo;","map":{"version":3,"names":["React","useState","useEffect","Axios","useHistory","logout","UsersInfo","user","setUser","history","post","then","resp","data","error","console","log","push","go","name","email","phone","user_type"],"sources":["/home/user/MP/rrapp/app/javascript/components/UserInfo.jsx"],"sourcesContent":["import React from 'react';\nimport { useState, useEffect } from 'react';\nimport Axios from 'axios';\nimport { useHistory } from \"react-router-dom\";\nimport { logout } from './shared/functions';\n\n// API call to show current user info only if logged in\nconst UsersInfo = () => {\n  const [user, setUser] = useState([]);\n  const history = useHistory();\n\n  useEffect(() => {\n    Axios.post(\"/api/user-info\")\n      .then(resp => {\n        setUser(resp.data.user)\n      })\n      .catch(error => {\n        console.log(error)\n        history.push('/login')\n        history.go(0)\n      })\n  }, [])\n\n  return (\n    <div>\n      <h1>User Info page</h1>\n      <h3>Name: {user.name} </h3>\n      <h3>Email: {user.email} </h3>\n      <h3>Phone: {user.phone} </h3>\n      <h3>User type: {user.user_type} </h3>\n      <br /><br />\n\n      <div onClick={logout} >Log out</div>\n\n    </div>\n  )\n}\n\nexport default UsersInfo"],"mappings":";;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,MAAT,QAAuB,oBAAvB,C,CAEA;;AACA,IAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;EACtB,gBAAwBL,QAAQ,CAAC,EAAD,CAAhC;EAAA;EAAA,IAAOM,IAAP;EAAA,IAAaC,OAAb;;EACA,IAAMC,OAAO,GAAGL,UAAU,EAA1B;EAEAF,SAAS,CAAC,YAAM;IACdC,KAAK,CAACO,IAAN,CAAW,gBAAX,EACGC,IADH,CACQ,UAAAC,IAAI,EAAI;MACZJ,OAAO,CAACI,IAAI,CAACC,IAAL,CAAUN,IAAX,CAAP;IACD,CAHH,WAIS,UAAAO,KAAK,EAAI;MACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACAL,OAAO,CAACQ,IAAR,CAAa,QAAb;MACAR,OAAO,CAACS,EAAR,CAAW,CAAX;IACD,CARH;EASD,CAVQ,EAUN,EAVM,CAAT;EAYA,oBACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,oBADF,eAEE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,aAAWX,IAAI,CAACY,IAAhB,MAFF,eAGE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,cAAYZ,IAAI,CAACa,KAAjB,MAHF,eAIE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,cAAYb,IAAI,CAACc,KAAjB,MAJF,eAKE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,kBAAgBd,IAAI,CAACe,SAArB,MALF,eAME;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EANF,eAMQ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EANR,eAQE;IAAK,OAAO,EAAEjB,MAAd;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,aARF,CADF;AAaD,CA7BD;;AA+BA,eAAeC,SAAf"},"metadata":{},"sourceType":"module"}